<!DOCTYPE html><html lang="en">

<head>
  <meta charset="utf-8">
  <title>IO.Async.Util</title>
  <link rel="stylesheet" type="text/css" id="preferredStyle" href="../default.css">
  <script>
    /* Updates the stylesheet to use the preferred one.
       Note that we set the link to root ++ sourceLoc because the config
       is shared across the whole website, so the root may differ from
       page to page.
    */
    function setStyleSource (sourceLoc) {
      document.getElementById("preferredStyle").href = "../" + sourceLoc + ".css";
      document.getElementById("selectPreferredStyle").value = sourceLoc;
    }
    /* Initialises the preferred style sheet:
       1. if there is a stored value then use that
          otherwise select the default
       2. set both the css link href & the drop down menu selected option
    */
    function initStyleSource () {
      var preferredStyle = localStorage.getItem("stylefile");
      if (preferredStyle !== null) {
        setStyleSource(preferredStyle);
      } else {
        setStyleSource("default");
      };
    }
    function saveStyleSource (preferredStyle) {
      localStorage.stylefile = preferredStyle;
    }
    </script>
</head>

<body class="namespace">
<header>
  <strong>Idris2Doc</strong> : IO.Async.Util
  <nav><a href="../index.html">Index</a>

  <select id="selectPreferredStyle">
    <option value="default">Default</option>
<option value="alternative">Alternative</option>
<option value="blackandwhite">Black & White</option>

  </select>
  </nav>

  <script>
  /* We start by initialising the style source */
  initStyleSource();

  /* This listens for changes on the drop down menu and updates the
     css used for the current page when a selection is made.
  */
  document.getElementById("selectPreferredStyle").addEventListener("change", function(){
    var selected = this.options[this.selectedIndex].value; /* the option chosen */
    setStyleSource (selected);
    saveStyleSource (selected);
  });
</script>

</header>
<div class="container"><div id="module-header"><h1>IO.Async.Util</h1><span style="float:right">(<a href="IO.Async.Util.src.html">source</a>)</span><pre></pre></div><code></code><h2>Definitions</h2><dl class="decls"><dt id="IO.Async.Util.Handler"><code><span class="keyword">0</span>&ensp;<a class="type" href="IO.Async.Util.html#IO.Async.Util.Handler"><span class="name function">Handler</span></a>&ensp;:&ensp;<span class="name type">Type</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="name type">Type</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="name type">Type</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="name type">Type</span></code></dt><dd>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="IO.Async.Util.injectIO"><code><a class="type" href="IO.Async.Util.html#IO.Async.Util.injectIO"><span class="name function">injectIO</span></a>&ensp;:&ensp;<span class="type resolved" title="Data.List.Quantifiers.Extra.Has"><span class="name function">Has</span></span>&ensp;<span class="boundvar">x</span>&ensp;<span class="boundvar">es</span>&ensp;<span class="keyword">=&gt;</span>&ensp;<span class="type resolved" title="PrimIO.IO"><span class="name type">IO</span></span>&ensp;(<span class="type resolved" title="Prelude.Types.Either"><span class="name type">Either</span></span>&ensp;<span class="boundvar">x</span>&ensp;<span class="boundvar">a</span>)&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="IO.Async.Core.html#IO.Async.Core.Async"><span class="name type">Async</span></a>&ensp;<span class="boundvar">e</span>&ensp;<span class="boundvar">es</span>&ensp;<span class="boundvar">a</span></code></dt><dd><pre>  Inject an `IO (Either e a)` computation into an `Async` monad dealing<br>  with several possible errors.</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="IO.Async.Util.embed"><code><a class="type" href="IO.Async.Util.html#IO.Async.Util.embed"><span class="name function">embed</span></a>&ensp;:&ensp;Lazy&ensp;(<a class="type" href="IO.Async.Core.html#IO.Async.Core.Async"><span class="name type">Async</span></a>&ensp;<span class="boundvar">e</span>&ensp;<span class="boundvar">es</span>&ensp;<span class="boundvar">a</span>)&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Control.Monad.MCancel.Outcome"><span class="name type">Outcome</span></span>&ensp;<span class="boundvar">es</span>&ensp;<span class="boundvar">a</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="IO.Async.Core.html#IO.Async.Core.Async"><span class="name type">Async</span></a>&ensp;<span class="boundvar">e</span>&ensp;<span class="boundvar">es</span>&ensp;<span class="boundvar">a</span></code></dt><dd>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="IO.Async.Util.join"><code><a class="type" href="IO.Async.Util.html#IO.Async.Util.join"><span class="name function">join</span></a>&ensp;:&ensp;<a class="type" href="IO.Async.Core.html#IO.Async.Core.Fiber"><span class="name type">Fiber</span></a>&ensp;<span class="boundvar">es</span>&ensp;<span class="boundvar">a</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="IO.Async.Core.html#IO.Async.Core.Async"><span class="name type">Async</span></a>&ensp;<span class="boundvar">e</span>&ensp;<span class="boundvar">fs</span>&ensp;(<span class="type resolved" title="Control.Monad.MCancel.Outcome"><span class="name type">Outcome</span></span>&ensp;<span class="boundvar">es</span>&ensp;<span class="boundvar">a</span>)</code></dt><dd><pre>  Semantically blocks the current fiber until the given fiber<br>  produces and outcome, and returns the outcome produced.</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="IO.Async.Util.wait"><code><a class="type" href="IO.Async.Util.html#IO.Async.Util.wait"><span class="name function">wait</span></a>&ensp;:&ensp;<a class="type" href="IO.Async.Core.html#IO.Async.Core.Fiber"><span class="name type">Fiber</span></a>&ensp;<span class="boundvar">es</span>&ensp;<span class="boundvar">a</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="IO.Async.Core.html#IO.Async.Core.Async"><span class="name type">Async</span></a>&ensp;<span class="boundvar">e</span>&ensp;<span class="boundvar">fs</span>&ensp;()</code></dt><dd><pre>  Awaits the termination of a fiber ignoring its outcome.</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="IO.Async.Util.cancel"><code><a class="type" href="IO.Async.Util.html#IO.Async.Util.cancel"><span class="name function">cancel</span></a>&ensp;:&ensp;<a class="type" href="IO.Async.Core.html#IO.Async.Core.Fiber"><span class="name type">Fiber</span></a>&ensp;<span class="boundvar">es</span>&ensp;<span class="boundvar">a</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="IO.Async.Core.html#IO.Async.Core.Async"><span class="name type">Async</span></a>&ensp;<span class="boundvar">e</span>&ensp;<span class="boundvar">fs</span>&ensp;()</code></dt><dd><pre>  Cancels the given fiber.<br>  <br>  This will semantically block the current fiber, until the target has<br>  completed.</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="IO.Async.Util.primAsync_"><code><a class="type" href="IO.Async.Util.html#IO.Async.Util.primAsync_"><span class="name function">primAsync_</span></a>&ensp;:&ensp;((<span class="type resolved" title="Control.Monad.MErr.Result"><span class="name function">Result</span></span>&ensp;<span class="boundvar">es</span>&ensp;<span class="boundvar">a</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Data.Linear.Token.IO1"><span class="name function">IO1</span></span>&ensp;())&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Data.Linear.Token.IO1"><span class="name function">IO1</span></span>&ensp;())&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="IO.Async.Core.html#IO.Async.Core.Async"><span class="name type">Async</span></a>&ensp;<span class="boundvar">e</span>&ensp;<span class="boundvar">es</span>&ensp;<span class="boundvar">a</span></code></dt><dd><pre>  Like `primAsync` but does not provide a hook for canceling.</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="IO.Async.Util.never"><code><a class="type" href="IO.Async.Util.html#IO.Async.Util.never"><span class="name function">never</span></a>&ensp;:&ensp;<a class="type" href="IO.Async.Core.html#IO.Async.Core.Async"><span class="name type">Async</span></a>&ensp;<span class="boundvar">e</span>&ensp;<span class="boundvar">es</span>&ensp;<span class="boundvar">a</span></code></dt><dd><pre>  A (cancelable) asynchronous computation that will never produce a<br>  result</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="IO.Async.Util.awaitOnce"><code><a class="type" href="IO.Async.Util.html#IO.Async.Util.awaitOnce"><span class="name function">awaitOnce</span></a>&ensp;:&ensp;<span class="type resolved" title="Data.Linear.Deferred.Once"><span class="name type">Once</span></span>&ensp;<span class="type resolved" title="Data.Linear.Token.World"><span class="name type">World</span></span>&ensp;<span class="boundvar">a</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="IO.Async.Core.html#IO.Async.Core.Async"><span class="name type">Async</span></a>&ensp;<span class="boundvar">e</span>&ensp;<span class="boundvar">es</span>&ensp;<span class="boundvar">a</span></code></dt><dd><pre>  Awaits the completion of a `Once a`.</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="IO.Async.Util.await"><code><a class="type" href="IO.Async.Util.html#IO.Async.Util.await"><span class="name function">await</span></a>&ensp;:&ensp;<span class="type resolved" title="Data.Linear.Deferred.Deferred"><span class="name type">Deferred</span></span>&ensp;<span class="type resolved" title="Data.Linear.Token.World"><span class="name type">World</span></span>&ensp;<span class="boundvar">a</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="IO.Async.Core.html#IO.Async.Core.Async"><span class="name type">Async</span></a>&ensp;<span class="boundvar">e</span>&ensp;<span class="boundvar">es</span>&ensp;<span class="boundvar">a</span></code></dt><dd><pre>  Awaits the completion of a `Deferred a`.</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="IO.Async.Util.racePair"><code><a class="type" href="IO.Async.Util.html#IO.Async.Util.racePair"><span class="name function">racePair</span></a>&ensp;:&ensp;<a class="type" href="IO.Async.Core.html#IO.Async.Core.Async"><span class="name type">Async</span></a>&ensp;<span class="boundvar">e</span>&ensp;<span class="boundvar">es</span>&ensp;<span class="boundvar">a</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="IO.Async.Core.html#IO.Async.Core.Async"><span class="name type">Async</span></a>&ensp;<span class="boundvar">e</span>&ensp;<span class="boundvar">fs</span>&ensp;<span class="boundvar">b</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="IO.Async.Core.html#IO.Async.Core.Async"><span class="name type">Async</span></a>&ensp;<span class="boundvar">e</span>&ensp;<span class="boundvar">gs</span>&ensp;(<span class="type resolved" title="Prelude.Types.Either"><span class="name type">Either</span></span>&ensp;(<span class="type resolved" title="Control.Monad.MCancel.Outcome"><span class="name type">Outcome</span></span>&ensp;<span class="boundvar">es</span>&ensp;<span class="boundvar">a</span>,&ensp;<a class="type" href="IO.Async.Core.html#IO.Async.Core.Fiber"><span class="name type">Fiber</span></a>&ensp;<span class="boundvar">fs</span>&ensp;<span class="boundvar">b</span>)&ensp;(<a class="type" href="IO.Async.Core.html#IO.Async.Core.Fiber"><span class="name type">Fiber</span></a>&ensp;<span class="boundvar">es</span>&ensp;<span class="boundvar">a</span>,&ensp;<span class="type resolved" title="Control.Monad.MCancel.Outcome"><span class="name type">Outcome</span></span>&ensp;<span class="boundvar">fs</span>&ensp;<span class="boundvar">b</span>))</code></dt><dd><pre>  A low-level primitive for racing the evaluation of two fibers that returns the [[Outcome]]<br>  of the winner and the [[Fiber]] of the loser. The winner of the race is considered to be<br>  the first fiber that completes with an outcome.<br>  <br>  `racePair` is a cancelation-unsafe function; it is recommended to use the safer variants.</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="IO.Async.Util.joinWith"><code><a class="type" href="IO.Async.Util.html#IO.Async.Util.joinWith"><span class="name function">joinWith</span></a>&ensp;:&ensp;<a class="type" href="IO.Async.Core.html#IO.Async.Core.Fiber"><span class="name type">Fiber</span></a>&ensp;<span class="boundvar">es</span>&ensp;<span class="boundvar">a</span>&ensp;<span class="keyword">-&gt;</span>&ensp;Lazy&ensp;(<a class="type" href="IO.Async.Core.html#IO.Async.Core.Async"><span class="name type">Async</span></a>&ensp;<span class="boundvar">e</span>&ensp;<span class="boundvar">es</span>&ensp;<span class="boundvar">a</span>)&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="IO.Async.Core.html#IO.Async.Core.Async"><span class="name type">Async</span></a>&ensp;<span class="boundvar">e</span>&ensp;<span class="boundvar">es</span>&ensp;<span class="boundvar">a</span></code></dt><dd><pre>  Awaits the completion of the bound fiber and returns its result once it completes.<br>  <br>  If the fiber completes with [[Outcome.Succeeded]], the successful value is returned. If the<br>  fiber completes with [[Outcome.Errored]], the error is raised. If the fiber completes with<br>  [[Outcome.Canceled]], `onCancel` is run.</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="IO.Async.Util.joinWithNeutral"><code><a class="type" href="IO.Async.Util.html#IO.Async.Util.joinWithNeutral"><span class="name function">joinWithNeutral</span></a>&ensp;:&ensp;<span class="type resolved" title="Prelude.Interfaces.Monoid"><span class="name type">Monoid</span></span>&ensp;<span class="boundvar">a</span>&ensp;<span class="keyword">=&gt;</span>&ensp;<a class="type" href="IO.Async.Core.html#IO.Async.Core.Fiber"><span class="name type">Fiber</span></a>&ensp;<span class="boundvar">es</span>&ensp;<span class="boundvar">a</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="IO.Async.Core.html#IO.Async.Core.Async"><span class="name type">Async</span></a>&ensp;<span class="boundvar">e</span>&ensp;<span class="boundvar">es</span>&ensp;<span class="boundvar">a</span></code></dt><dd><pre>  Like `joinWith`, returning the `neutral` value of the `Monoid` in case of<br>  cancelation.</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="IO.Async.Util.cancelable"><code><a class="type" href="IO.Async.Util.html#IO.Async.Util.cancelable"><span class="name function">cancelable</span></a>&ensp;:&ensp;<a class="type" href="IO.Async.Core.html#IO.Async.Core.Async"><span class="name type">Async</span></a>&ensp;<span class="boundvar">e</span>&ensp;<span class="boundvar">es</span>&ensp;<span class="boundvar">a</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="IO.Async.Core.html#IO.Async.Core.Async"><span class="name type">Async</span></a>&ensp;<span class="boundvar">e</span>&ensp;[]&ensp;()&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="IO.Async.Core.html#IO.Async.Core.Async"><span class="name type">Async</span></a>&ensp;<span class="boundvar">e</span>&ensp;<span class="boundvar">es</span>&ensp;(<span class="type resolved" title="Prelude.Types.Maybe"><span class="name type">Maybe</span></span>&ensp;<span class="boundvar">a</span>)</code></dt><dd>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="IO.Async.Util.raceOutcome"><code><a class="type" href="IO.Async.Util.html#IO.Async.Util.raceOutcome"><span class="name function">raceOutcome</span></a>&ensp;:&ensp;<a class="type" href="IO.Async.Core.html#IO.Async.Core.Async"><span class="name type">Async</span></a>&ensp;<span class="boundvar">e</span>&ensp;<span class="boundvar">es</span>&ensp;<span class="boundvar">a</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="IO.Async.Core.html#IO.Async.Core.Async"><span class="name type">Async</span></a>&ensp;<span class="boundvar">e</span>&ensp;<span class="boundvar">fs</span>&ensp;<span class="boundvar">b</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="IO.Async.Core.html#IO.Async.Core.Async"><span class="name type">Async</span></a>&ensp;<span class="boundvar">e</span>&ensp;<span class="boundvar">gs</span>&ensp;(<span class="type resolved" title="Prelude.Types.Either"><span class="name type">Either</span></span>&ensp;(<span class="type resolved" title="Control.Monad.MCancel.Outcome"><span class="name type">Outcome</span></span>&ensp;<span class="boundvar">es</span>&ensp;<span class="boundvar">a</span>)&ensp;(<span class="type resolved" title="Control.Monad.MCancel.Outcome"><span class="name type">Outcome</span></span>&ensp;<span class="boundvar">fs</span>&ensp;<span class="boundvar">b</span>))</code></dt><dd><pre>  Races the evaluation of two fibers that returns the [[Outcome]] of the winner. The winner<br>  of the race is considered to be the first fiber that completes with an outcome. The loser<br>  of the race is canceled before returning.<br>  <br>  @param fa<br>    the effect for the first racing fiber<br>  @param fb<br>    the effect for the second racing fiber<br>  <br>  @see<br>    [[race]] for a simpler variant that returns the successful outcome.</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="IO.Async.Util.race2"><code><a class="type" href="IO.Async.Util.html#IO.Async.Util.race2"><span class="name function">race2</span></a>&ensp;:&ensp;<a class="type" href="IO.Async.Core.html#IO.Async.Core.Async"><span class="name type">Async</span></a>&ensp;<span class="boundvar">e</span>&ensp;<span class="boundvar">es</span>&ensp;<span class="boundvar">a</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="IO.Async.Core.html#IO.Async.Core.Async"><span class="name type">Async</span></a>&ensp;<span class="boundvar">e</span>&ensp;<span class="boundvar">es</span>&ensp;<span class="boundvar">b</span>&ensp;<span class="keyword">-&gt;</span>&ensp;(<span class="boundvar">a</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="boundvar">c</span>)&ensp;<span class="keyword">-&gt;</span>&ensp;(<span class="boundvar">b</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="boundvar">c</span>)&ensp;<span class="keyword">-&gt;</span>&ensp;Lazy&ensp;<span class="boundvar">c</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="IO.Async.Core.html#IO.Async.Core.Async"><span class="name type">Async</span></a>&ensp;<span class="boundvar">e</span>&ensp;<span class="boundvar">es</span>&ensp;<span class="boundvar">c</span></code></dt><dd><pre>  Races the evaluation of several fibers, returning the result<br>  of the winnner. The other fibers are canceled as soon as one of the<br>  fibers produced an outcome.<br>  case of cancelation.<br>  <br>  The semantics of [[race]] are described by the following rules:<br>  <br>    1. If the winner completes with [[Outcome.Succeeded]], the race returns the successful<br>       value. The loser is canceled before returning.<br>    2. If the winner completes with [[Outcome.Errored]], the race raises the error.<br>       The loser is canceled before returning.<br>    3. If the winner completes with [[Outcome.Canceled]], the race cancels<br>       the loser and returns its result, fires an error, or returns `Nothing`<br>       its outcome is `Canceled`.<br>  <br>  @param fa<br>    the effect for the first racing fiber<br>  @param fb<br>    the effect for the second racing fiber<br>  <br>  @see<br>    [[raceOutcome]] for a variant that returns the outcome of the winner.</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="IO.Async.Util.hrace"><code><a class="type" href="IO.Async.Util.html#IO.Async.Util.hrace"><span class="name function">hrace</span></a>&ensp;:&ensp;<span class="type resolved" title="Data.List.Quantifiers.All.All"><span class="name type">All</span></span>&ensp;(<a class="type" href="IO.Async.Core.html#IO.Async.Core.Async"><span class="name type">Async</span></a>&ensp;<span class="boundvar">e</span>&ensp;<span class="boundvar">es</span>)&ensp;<span class="boundvar">ts</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="IO.Async.Core.html#IO.Async.Core.Async"><span class="name type">Async</span></a>&ensp;<span class="boundvar">e</span>&ensp;<span class="boundvar">es</span>&ensp;(<span class="type resolved" title="Prelude.Types.Maybe"><span class="name type">Maybe</span></span>&ensp;(<span class="type resolved" title="Data.List.Quantifiers.Extra.HSum"><span class="name function">HSum</span></span>&ensp;<span class="boundvar">ts</span>))</code></dt><dd><pre>  This generalizes `race2` to an arbitrary heterogeneous list.</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="IO.Async.Util.race"><code><a class="type" href="IO.Async.Util.html#IO.Async.Util.race"><span class="name function">race</span></a>&ensp;:&ensp;Lazy&ensp;<span class="boundvar">a</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.List"><span class="name type">List</span></span>&ensp;(<a class="type" href="IO.Async.Core.html#IO.Async.Core.Async"><span class="name type">Async</span></a>&ensp;<span class="boundvar">e</span>&ensp;<span class="boundvar">es</span>&ensp;<span class="boundvar">a</span>)&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="IO.Async.Core.html#IO.Async.Core.Async"><span class="name type">Async</span></a>&ensp;<span class="boundvar">e</span>&ensp;<span class="boundvar">es</span>&ensp;<span class="boundvar">a</span></code></dt><dd><pre>  A more efficient, monomorphic version of `hrace` with slightly<br>  different semantics: The winner decides the outcome of the are<br>  even if it has been cancele.</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="IO.Async.Util.race_"><code><a class="type" href="IO.Async.Util.html#IO.Async.Util.race_"><span class="name function">race_</span></a>&ensp;:&ensp;<span class="type resolved" title="Prelude.Basics.List"><span class="name type">List</span></span>&ensp;(<a class="type" href="IO.Async.Core.html#IO.Async.Core.Async"><span class="name type">Async</span></a>&ensp;<span class="boundvar">e</span>&ensp;<span class="boundvar">es</span>&ensp;())&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="IO.Async.Core.html#IO.Async.Core.Async"><span class="name type">Async</span></a>&ensp;<span class="boundvar">e</span>&ensp;<span class="boundvar">es</span>&ensp;()</code></dt><dd><pre>  Runs several non-productive fibers in parallel, terminating<br>  as soon as the first one completes.</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="IO.Async.Util.bothOutcome"><code><a class="type" href="IO.Async.Util.html#IO.Async.Util.bothOutcome"><span class="name function">bothOutcome</span></a>&ensp;:&ensp;<a class="type" href="IO.Async.Core.html#IO.Async.Core.Async"><span class="name type">Async</span></a>&ensp;<span class="boundvar">e</span>&ensp;<span class="boundvar">es</span>&ensp;<span class="boundvar">a</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="IO.Async.Core.html#IO.Async.Core.Async"><span class="name type">Async</span></a>&ensp;<span class="boundvar">e</span>&ensp;<span class="boundvar">fs</span>&ensp;<span class="boundvar">b</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="IO.Async.Core.html#IO.Async.Core.Async"><span class="name type">Async</span></a>&ensp;<span class="boundvar">e</span>&ensp;<span class="boundvar">gs</span>&ensp;(<span class="type resolved" title="Control.Monad.MCancel.Outcome"><span class="name type">Outcome</span></span>&ensp;<span class="boundvar">es</span>&ensp;<span class="boundvar">a</span>,&ensp;<span class="type resolved" title="Control.Monad.MCancel.Outcome"><span class="name type">Outcome</span></span>&ensp;<span class="boundvar">fs</span>&ensp;<span class="boundvar">b</span>)</code></dt><dd><pre>  Races the evaluation of two fibers and returns the [[Outcome]] of both. If the race is<br>  canceled before one or both participants complete, then then whichever ones are incomplete<br>  are canceled.<br>  <br>  @param fa<br>    the effect for the first racing fiber<br>  @param fb<br>    the effect for the second racing fiber<br>  <br>  @see<br>    [[both]] for a simpler variant that returns the results of both fibers.<br>  </pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="IO.Async.Util.both"><code><a class="type" href="IO.Async.Util.html#IO.Async.Util.both"><span class="name function">both</span></a>&ensp;:&ensp;<a class="type" href="IO.Async.Core.html#IO.Async.Core.Async"><span class="name type">Async</span></a>&ensp;<span class="boundvar">e</span>&ensp;<span class="boundvar">es</span>&ensp;<span class="boundvar">a</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="IO.Async.Core.html#IO.Async.Core.Async"><span class="name type">Async</span></a>&ensp;<span class="boundvar">e</span>&ensp;<span class="boundvar">es</span>&ensp;<span class="boundvar">b</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="IO.Async.Core.html#IO.Async.Core.Async"><span class="name type">Async</span></a>&ensp;<span class="boundvar">e</span>&ensp;<span class="boundvar">es</span>&ensp;(<span class="type resolved" title="Prelude.Types.Maybe"><span class="name type">Maybe</span></span>&ensp;(<span class="boundvar">a</span>,&ensp;<span class="boundvar">b</span>))</code></dt><dd><pre>  Races the evaluation of two fibers and returns the result of both.<br>  <br>  The following rules describe the semantics of [[both]]:<br>  <br>    1. If the winner completes with [[Outcome.Succeeded]], the race waits for the loser to<br>       complete.<br>    2. If the winner completes with [[Outcome.Errored]], the race raises the<br>       error. The loser is canceled.<br>    3. If the winner completes with [[Outcome.Canceled]],<br>       the loser and the race are canceled as well.<br>    4. If the loser completes with<br>       [[Outcome.Succeeded]], the race returns the successful value of both fibers.<br>    5. If the<br>       loser completes with [[Outcome.Errored]], the race returns the error.<br>    6. If the loser<br>       completes with [[Outcome.Canceled]], the race is canceled.<br>    7. If the race is canceled<br>       before one or both participants complete, then whichever ones are incomplete are<br>       canceled.<br>  <br>  @param fa<br>    the effect for the first racing fiber<br>  @param fb<br>    the effect for the second racing fiber<br>  <br>  @see<br>    [[bothOutcome]] for a variant that returns the [[Outcome]] of both fibers.</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="IO.Async.Util.par"><code><a class="type" href="IO.Async.Util.html#IO.Async.Util.par"><span class="name function">par</span></a>&ensp;:&ensp;<span class="type resolved" title="Data.List.Quantifiers.All.All"><span class="name type">All</span></span>&ensp;(<a class="type" href="IO.Async.Core.html#IO.Async.Core.Async"><span class="name type">Async</span></a>&ensp;<span class="boundvar">e</span>&ensp;<span class="boundvar">es</span>)&ensp;<span class="boundvar">ts</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="IO.Async.Core.html#IO.Async.Core.Async"><span class="name type">Async</span></a>&ensp;<span class="boundvar">e</span>&ensp;<span class="boundvar">es</span>&ensp;(<span class="type resolved" title="Prelude.Types.Maybe"><span class="name type">Maybe</span></span>&ensp;(<span class="type resolved" title="Data.List.Quantifiers.All.HList"><span class="name function">HList</span></span>&ensp;<span class="boundvar">ts</span>))</code></dt><dd><pre>  Runs the given heterogeneous list of asynchronous computations<br>  in parallel, collecting the results again in a heterogeneous list.</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="IO.Async.Util.parseq"><code><a class="type" href="IO.Async.Util.html#IO.Async.Util.parseq"><span class="name function">parseq</span></a>&ensp;:&ensp;<span class="type resolved" title="Prelude.Basics.List"><span class="name type">List</span></span>&ensp;(<a class="type" href="IO.Async.Core.html#IO.Async.Core.Async"><span class="name type">Async</span></a>&ensp;<span class="boundvar">e</span>&ensp;<span class="boundvar">es</span>&ensp;<span class="boundvar">a</span>)&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="IO.Async.Core.html#IO.Async.Core.Async"><span class="name type">Async</span></a>&ensp;<span class="boundvar">e</span>&ensp;<span class="boundvar">es</span>&ensp;(<span class="type resolved" title="Prelude.Types.Maybe"><span class="name type">Maybe</span></span>&ensp;(<span class="type resolved" title="Prelude.Basics.List"><span class="name type">List</span></span>&ensp;<span class="boundvar">a</span>))</code></dt><dd><pre>  Runs the given list of computations in parallel.<br>  <br>  This fails with an error, as soon as the first computation<br>  fails, and it returns `Nothing` as soon as the first computation<br>  is canceled.</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="IO.Async.Util.parTraverse"><code><a class="type" href="IO.Async.Util.html#IO.Async.Util.parTraverse"><span class="name function">parTraverse</span></a>&ensp;:&ensp;(<span class="boundvar">a</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="IO.Async.Core.html#IO.Async.Core.Async"><span class="name type">Async</span></a>&ensp;<span class="boundvar">e</span>&ensp;<span class="boundvar">es</span>&ensp;<span class="boundvar">b</span>)&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.List"><span class="name type">List</span></span>&ensp;<span class="boundvar">a</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="IO.Async.Core.html#IO.Async.Core.Async"><span class="name type">Async</span></a>&ensp;<span class="boundvar">e</span>&ensp;<span class="boundvar">es</span>&ensp;(<span class="type resolved" title="Prelude.Types.Maybe"><span class="name type">Maybe</span></span>&ensp;(<span class="type resolved" title="Prelude.Basics.List"><span class="name type">List</span></span>&ensp;<span class="boundvar">b</span>))</code></dt><dd><pre>  Traverses a list of values effectfully in parallel.<br>  <br>  This returns `Nothing` if one of the fibers was canceled.</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="IO.Async.Util.lazy"><code><a class="type" href="IO.Async.Util.html#IO.Async.Util.lazy"><span class="name function">lazy</span></a>&ensp;:&ensp;Lazy&ensp;<span class="boundvar">a</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="IO.Async.Core.html#IO.Async.Core.Async"><span class="name type">Async</span></a>&ensp;<span class="boundvar">e</span>&ensp;<span class="boundvar">es</span>&ensp;<span class="boundvar">a</span></code></dt><dd><pre>  Wraps a lazy value in an `Async`.</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="IO.Async.Util.sleep"><code><a class="type" href="IO.Async.Util.html#IO.Async.Util.sleep"><span class="name function">sleep</span></a>&ensp;:&ensp;<a class="type" href="IO.Async.Loop.TimerH.html#IO.Async.Loop.TimerH.TimerH"><span class="name type">TimerH</span></a>&ensp;<span class="boundvar">e</span>&ensp;<span class="keyword">=&gt;</span>&ensp;<span class="type resolved" title="System.Clock.Clock"><span class="name type">Clock</span></span>&ensp;<span class="type resolved" title="System.Clock.Duration"><span class="name constructor">Duration</span></span>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="IO.Async.Core.html#IO.Async.Core.Async"><span class="name type">Async</span></a>&ensp;<span class="boundvar">e</span>&ensp;<span class="boundvar">es</span>&ensp;()</code></dt><dd><pre>  Delay a computation by the given number of nanoseconds.</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="IO.Async.Util.waitTill"><code><a class="type" href="IO.Async.Util.html#IO.Async.Util.waitTill"><span class="name function">waitTill</span></a>&ensp;:&ensp;<a class="type" href="IO.Async.Loop.TimerH.html#IO.Async.Loop.TimerH.TimerH"><span class="name type">TimerH</span></a>&ensp;<span class="boundvar">e</span>&ensp;<span class="keyword">=&gt;</span>&ensp;<span class="type resolved" title="System.Clock.Clock"><span class="name type">Clock</span></span>&ensp;<span class="type resolved" title="System.Clock.Monotonic"><span class="name constructor">Monotonic</span></span>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="IO.Async.Core.html#IO.Async.Core.Async"><span class="name type">Async</span></a>&ensp;<span class="boundvar">e</span>&ensp;<span class="boundvar">es</span>&ensp;()</code></dt><dd><pre>  Delay a computation by the given number of nanoseconds.</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="IO.Async.Util.delay"><code><a class="type" href="IO.Async.Util.html#IO.Async.Util.delay"><span class="name function">delay</span></a>&ensp;:&ensp;<a class="type" href="IO.Async.Loop.TimerH.html#IO.Async.Loop.TimerH.TimerH"><span class="name type">TimerH</span></a>&ensp;<span class="boundvar">e</span>&ensp;<span class="keyword">=&gt;</span>&ensp;<span class="type resolved" title="System.Clock.Clock"><span class="name type">Clock</span></span>&ensp;<span class="type resolved" title="System.Clock.Duration"><span class="name constructor">Duration</span></span>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="IO.Async.Core.html#IO.Async.Core.Async"><span class="name type">Async</span></a>&ensp;<span class="boundvar">e</span>&ensp;<span class="boundvar">es</span>&ensp;<span class="boundvar">a</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="IO.Async.Core.html#IO.Async.Core.Async"><span class="name type">Async</span></a>&ensp;<span class="boundvar">e</span>&ensp;<span class="boundvar">es</span>&ensp;<span class="boundvar">a</span></code></dt><dd><pre>  Delay a computation by the given number of nanoseconds.</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="IO.Async.Util.(.ns)"><code><a class="type" href="IO.Async.Util.html#IO.Async.Util.(.ns)"><span class="name function">.ns</span></a>&ensp;:&ensp;<span class="type resolved" title="Prelude.Types.Nat"><span class="name type">Nat</span></span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="System.Clock.Clock"><span class="name type">Clock</span></span>&ensp;<span class="type resolved" title="System.Clock.Duration"><span class="name constructor">Duration</span></span></code></dt><dd><pre>  Converts a number to nanoseconds</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="IO.Async.Util.(.us)"><code><a class="type" href="IO.Async.Util.html#IO.Async.Util.(.us)"><span class="name function">.us</span></a>&ensp;:&ensp;<span class="type resolved" title="Prelude.Types.Nat"><span class="name type">Nat</span></span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="System.Clock.Clock"><span class="name type">Clock</span></span>&ensp;<span class="type resolved" title="System.Clock.Duration"><span class="name constructor">Duration</span></span></code></dt><dd><pre>  Converts a number of microseconds to nanoseconds</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="IO.Async.Util.(.s)"><code><a class="type" href="IO.Async.Util.html#IO.Async.Util.(.s)"><span class="name function">.s</span></a>&ensp;:&ensp;<span class="type resolved" title="Prelude.Types.Nat"><span class="name type">Nat</span></span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="System.Clock.Clock"><span class="name type">Clock</span></span>&ensp;<span class="type resolved" title="System.Clock.Duration"><span class="name constructor">Duration</span></span></code></dt><dd><pre>  Converts a number of seconds to nanoseconds</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="IO.Async.Util.(.ms)"><code><a class="type" href="IO.Async.Util.html#IO.Async.Util.(.ms)"><span class="name function">.ms</span></a>&ensp;:&ensp;<span class="type resolved" title="Prelude.Types.Nat"><span class="name type">Nat</span></span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="System.Clock.Clock"><span class="name type">Clock</span></span>&ensp;<span class="type resolved" title="System.Clock.Duration"><span class="name constructor">Duration</span></span></code></dt><dd><pre>  Converts a number of milliseconds to nanoseconds</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="IO.Async.Util.(.min)"><code><a class="type" href="IO.Async.Util.html#IO.Async.Util.(.min)"><span class="name function">.min</span></a>&ensp;:&ensp;<span class="type resolved" title="Prelude.Types.Nat"><span class="name type">Nat</span></span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="System.Clock.Clock"><span class="name type">Clock</span></span>&ensp;<span class="type resolved" title="System.Clock.Duration"><span class="name constructor">Duration</span></span></code></dt><dd><pre>  Converts a number of minutes to nanoseconds</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="IO.Async.Util.(.h)"><code><a class="type" href="IO.Async.Util.html#IO.Async.Util.(.h)"><span class="name function">.h</span></a>&ensp;:&ensp;<span class="type resolved" title="Prelude.Types.Nat"><span class="name type">Nat</span></span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="System.Clock.Clock"><span class="name type">Clock</span></span>&ensp;<span class="type resolved" title="System.Clock.Duration"><span class="name constructor">Duration</span></span></code></dt><dd><pre>  Converts a number of hours to nanoseconds</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="IO.Async.Util.(.d)"><code><a class="type" href="IO.Async.Util.html#IO.Async.Util.(.d)"><span class="name function">.d</span></a>&ensp;:&ensp;<span class="type resolved" title="Prelude.Types.Nat"><span class="name type">Nat</span></span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="System.Clock.Clock"><span class="name type">Clock</span></span>&ensp;<span class="type resolved" title="System.Clock.Duration"><span class="name constructor">Duration</span></span></code></dt><dd><pre>  Converts a number of days to nanoseconds</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="IO.Async.Util.delta"><code><a class="type" href="IO.Async.Util.html#IO.Async.Util.delta"><span class="name function">delta</span></a>&ensp;:&ensp;<span class="type resolved" title="Prelude.IO.HasIO"><span class="name type">HasIO</span></span>&ensp;<span class="boundvar">io</span>&ensp;<span class="keyword">=&gt;</span>&ensp;<span class="boundvar">io</span>&ensp;()&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="boundvar">io</span>&ensp;(<span class="type resolved" title="System.Clock.Clock"><span class="name type">Clock</span></span>&ensp;<span class="type resolved" title="System.Clock.Duration"><span class="name constructor">Duration</span></span>)</code></dt><dd><pre>  Runs an IO action, returning the time delta it took to run.</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="IO.Async.Util.syncApp"><code><a class="type" href="IO.Async.Util.html#IO.Async.Util.syncApp"><span class="name function">syncApp</span></a>&ensp;:&ensp;<a class="type" href="IO.Async.Core.html#IO.Async.Core.Async"><span class="name type">Async</span></a>&ensp;<a class="type" href="IO.Async.Loop.Sync.html#IO.Async.Loop.Sync.SyncST"><span class="name type">SyncST</span></a>&ensp;[]&ensp;()&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="PrimIO.IO"><span class="name type">IO</span></span>&ensp;()</code></dt><dd>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd></dl></div><footer>Produced by Idris 2 version 0.7.0-da352d8ed</footer></body></html>
